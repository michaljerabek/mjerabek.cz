!function(i,n){var t,o,r,s,l,c,a,d,p,m,h,f,u,g,v,w,_,C,$,y,S,T,I,b,k,x,E,D,O,W,A,M,L,B,q,z,j,F,N,P,R,K;i.$win=i.$win||n(window),i.$doc=i.$doc||n(document),i.$temp=i.$temp||n([null]),i.Technologies=(y="technologies__technology--active",S="technologies__technology--from-left",T="technologies__technology--from-right",I="technologies--show-sample",b="ui__content--technologies",k="technologies__hidden-link",E="codemirror-mimemode",D={self:".technologies",toggleEl:"body",nav:".technologies__nav",navLink:".technologies__nav-link",activeIndicator:".technologies__nav-active-indicator",findActiveIndicatorSizeEl:".text",tab:".technologies__technology",textWrapper:".technologies__text-content-wrapper",sampleWrapper:".technologies__sample-content-wrapper",sampleContent:".technologies__sample-content",findSampleContentCode:"code",contentWrappers:".technologies__text-content-wrapper, .technologies__sample-content-wrapper",openers:"[data-"+(x="technologies-tab")+"]",closeBtn:".technologies__close",sampleBtns:".technologies__show-sample",inertEl:".main-nav, .ui__perspective",metaThemeColor:"meta[name='theme-color']",pagePerspective:".ui__perspective"},O={changed:"technologies__changed."+i,opened:"technologies__opened."+i,closed:"technologies__closed."+i,interaction:"technologies__interaction."+i},W={theme:"minimal",scrollInertia:500,mouseWheel:{scrollAmount:162,deltaFactor:27}},M=!(A=[]),L=function(){r=r||n(D.pagePerspective);var e=i.$win.scrollTop()+window.innerHeight/2;r.css("perspective-origin","50% "+e+"px")},B=function(e,n){if(i.$win.off(["mousewheel","DOMMouseScroll","touchmove"].join(".Technologies."+i+" ")+".Technologies."+i),i.$win.off("keyup.Technologies"+i),f.prop("inert",!1),o.prop("inert",!0),n||(i.$temp[0]=m,i.$temp.hasClass(k)||m.focus()),L(),C.attr("content",$),!n){var t="#"+i.Offer.getSelf()[0].id;window.history.replaceState(t,"",t)}h.removeClass(b),o.removeClass(I),i.$win.trigger(O.closed),e&&e.preventDefault(),o.on("transitionend."+i,function(e){"visibility"===e.originalEvent.propertyName&&e.originalEvent.target===o[0]&&o.off("transitionend."+i).css("display","none")}),M=!1},q=function(e){var n;e.preventDefault(),o.off("transitionend."+i).css("display","block"),t||K(p.get().indexOf(this)),L(),m=this,clearTimeout(v),i.$win.on(["mousewheel","DOMMouseScroll","touchmove"].join(".Technologies."+i+" ")+".Technologies."+i,function(e){i.$temp[0]=e.target,"touchmove"===e.type&&i.$temp.closest(D.contentWrappers).length||e.preventDefault()}),i.$win.on("keyup.Technologies"+i,function(e){27===e.which&&B(e)}),i.$temp[0]=this,l.css("transition","none"),d.css("transition","none"),d&&d.filter(D.sampleWrapper).mCustomScrollbar("scrollTo",[0,0],{scrollInertia:0}),a.removeClass(T).removeClass(S).removeClass(y),o.find(Infinitum.CLASS.selector("current")).removeClass(Infinitum.CLASS.current),f.prop("inert",!0),o.prop("inert",!1),u.refresh({current:(n=i.$temp,parseInt(n.data(x),10)||0)},!0),$=C.attr("content"),v=setTimeout(function(){h.addClass(b),l.css("transition",""),d.css("transition",""),s.focus(),C.attr("content","#C9B47F"),i.$win.trigger(O.opened)},0),M=!0},z=function(e){switch(e.type){case"dragging":g&&(c.width(0),g=!1);break;case"init":c.width(u.$currentItem.find(D.findActiveIndicatorSizeEl).width()),g=!0;break;default:i.$temp[0]="change"===e.type?e.target:u.$currentItem[0],c.width(i.$temp.find(D.findActiveIndicatorSizeEl).width()),g=!0}},j=function(e){return!(a.eq(e).length&&-1===A.indexOf(e))},F=function(e,n){if(!j(e=!e||e<0?0:e)){var t=a.eq(e).find(D.sampleContent),o=t.find(D.findSampleContentCode);if(CodeMirror.runMode(o.text(),t.data(E),o[0]),A.push(e),n){var i=(e+1)%a.length;j(i)||(clearTimeout(_),_=setTimeout(F.bind(null,i,!0),1e3))}}},N=function(e){clearTimeout(w),i.$temp[0]=e.fromElement;var n=i.$temp.index();i.$temp[0]=e.target;var t=i.$temp.index();d.css("transition","none"),a.filter(function(e){return e===n||e===t}).removeClass(T).removeClass(S),a.eq(n).addClass(u._lastDir===Infinitum.DIR.LEFT?S:T),a.eq(t).addClass(u._lastDir===Infinitum.DIR.LEFT?T:S),F(t);var o=i.$temp.find(D.navLink);w=setTimeout(function(){a.removeClass(y).eq(t).addClass(y),d.css("transition",""),window.history.replaceState(o[0].href,"",o[0].href),i.$win.trigger(O.changed,o[0].href.split("#")[1])},0)},P=function(e){if(e="#"+e.replace("#",""),M){var n=u.$items.find("[href$='"+e+"']").closest(Infinitum.CLASS.selector("item"));return n.length&&u.setCurrent(n),!!n.length}var t=p.filter("[href*='"+e+"']").first();return t.length&&t.click(),!!t.length},R=function(e){var n,t;a=o.find(D.tab),d=a.find(D.contentWrappers),void 0!==document.body.style.webkitOverflowScrolling||document.documentElement.className.match(/android/)||(W.axis="y",d.filter(D.textWrapper).mCustomScrollbar(W),W.axis="yx",W.mouseWheel.scrollAmount=324,d.filter(D.sampleWrapper).mCustomScrollbar(W)),n=CodeMirror.mimeModes["text/css"],t=Object.keys(n.valueKeywords),["line-height","width","cubic-bezier"].forEach(function(e){-1===t.indexOf(e)&&(n.valueKeywords[e]=!0)}),F(e,!0)},K=function(e){f=n(D.inertEl),h=n(D.toggleEl),C=n(D.metaThemeColor),s=o.find(D.nav),l=s.find(D.navLink),c=s.find(D.activeIndicator),u=new Infinitum({el:s,startBreak:Infinitum.POSITION.START,watchContainer:100}),z({type:"init"}),u.on("change."+i,N),u.on("change."+i+" dragging."+i+" dragend."+i,z),i.$win.on("resize."+i,z),setTimeout(z.bind(null,{type:"ios-fix"}),100),o.find(D.closeBtn).on("click."+i,B),o.find(D.sampleBtns).on("click."+i,function(e){o.toggleClass(I),e.preventDefault()}),R(e),t=!0},{init:function(e){p=n(D.openers).on("click."+i,q),(o=n(D.self)).css("display","block"),K(e||0),o.css("display","none"),o.prop("inert",!0),window.location.hash&&P(window.location.hash),i.$win.on("hashchange."+i,function(){!P(window.location.hash)&&M&&B(null,!0)})}})}(function(e){return window[e]=window[e]||{toString:function(){return e}},window[e]}("MJNS"),jQuery);
